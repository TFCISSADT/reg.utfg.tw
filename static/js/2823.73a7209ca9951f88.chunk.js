'use strict';const a74_0x396d6e=a74_0x2538;(function(_0x349ea9,_0x55cf82){const _0x5db319=a74_0x2538,_0x13b1cd=_0x349ea9();while(!![]){try{const _0x1c8315=parseInt(_0x5db319(0xee))/0x1+parseInt(_0x5db319(0xf4))/0x2+parseInt(_0x5db319(0xf5))/0x3+-parseInt(_0x5db319(0xdb))/0x4+-parseInt(_0x5db319(0xf0))/0x5*(parseInt(_0x5db319(0xf6))/0x6)+parseInt(_0x5db319(0x103))/0x7+-parseInt(_0x5db319(0xde))/0x8;if(_0x1c8315===_0x55cf82)break;else _0x13b1cd['push'](_0x13b1cd['shift']());}catch(_0x1f5ec9){_0x13b1cd['push'](_0x13b1cd['shift']());}}}(a74_0x576e,0x48ef0));function a74_0x2538(_0x5d7f6d,_0x4c9ef6){const _0x576e65=a74_0x576e();return a74_0x2538=function(_0x2538a7,_0x23106b){_0x2538a7=_0x2538a7-0xd6;let _0x4de346=_0x576e65[_0x2538a7];return _0x4de346;},a74_0x2538(_0x5d7f6d,_0x4c9ef6);}function a74_0x576e(){const _0x1067b2=['838080tvkcfR','volunteer-punches\x20flex\x20flex-direction:col\x20gap:32\x20align-items:center\x20justify-content:center','useState','6937056SHrbDX','useEffect','get','flex\x20flex-direction:col\x20gap:16\x20max-width:600px\x20w:100%','x-card\x20flex\x20flex-direction:col\x20gap:8','put','label','webpackChunkregistration_infurnity_front_react','success','Fragment','data','上傳結果成功.','getItem','/userPoint','x-button','Loading','290387svANrJ','LocalStorageKey','122030hnNzKQ','x-form-field','/rewards','split','701144yltVzW','752070nYBIZI','18neYZrG','/point/frontdesk/','x-button\x20primary','div','setItem','?registrationID=','registrationID','target','post','button','掃描參加者的加扣點條碼','jsxs','志工Token','3898699jqbfGL','useCallback','VolunteerToken','message','/reward/redeem','志工用參加者加扣點','userID','jsx'];a74_0x576e=function(){return _0x1067b2;};return a74_0x576e();}(self[a74_0x396d6e(0xe5)]=self[a74_0x396d6e(0xe5)]||[])['push']([[0xb07],{0x2d09:(_0x4e6154,_0x7a8ecb,_0x37d890)=>{_0x37d890['d'](_0x7a8ecb,{'Y':()=>_0x16d598});var _0x5afd0d=_0x37d890(0x12106),_0x575819=_0x37d890(0xb8d1);function _0x535628(_0x427206,_0x4fd118){const _0x5086e6=a74_0x2538;return _0x4fd118[_0x5086e6(0xd9)]?_0x427206=_0x427206+'?userID='+_0x4fd118[_0x5086e6(0xd9)]:_0x4fd118[_0x5086e6(0xfc)]?_0x427206=_0x427206+_0x5086e6(0xfb)+_0x4fd118[_0x5086e6(0xfc)]:_0x4fd118['registrationCardID']&&(_0x427206=_0x427206+'?registrationCardID='+_0x4fd118['registrationCardID']),_0x427206;}function _0x16d598(){const _0x4c2ce8=a74_0x2538,_0x318b51=(0x0,_0x5afd0d['kq'])();return{'GetUserPoint':(0x0,_0x575819['useCallback'])(async(_0x2b3ea6,_0x7a6caa)=>{const _0x2e8e0a=a74_0x2538;let _0x500791=_0x535628('/point/frontdesk/'+_0x2b3ea6+'/userPoint',_0x7a6caa);return(await _0x318b51['get'](_0x500791))[_0x2e8e0a(0xe8)];},[_0x318b51]),'UpdateUserPoint':(0x0,_0x575819[_0x4c2ce8(0x104)])(async(_0x4f2f98,_0x2af18d,_0x5bb807)=>(await _0x318b51[_0x4c2ce8(0xe3)](_0x4c2ce8(0xf7)+_0x4f2f98+_0x4c2ce8(0xeb),{..._0x2af18d,..._0x5bb807}))[_0x4c2ce8(0xe8)],[_0x318b51]),'GetUserHistory':(0x0,_0x575819[_0x4c2ce8(0x104)])(async(_0x3f1f61,_0x44d671)=>{const _0x5c850c=_0x4c2ce8;let _0x1fd838=_0x535628(_0x5c850c(0xf7)+_0x3f1f61+'/history',_0x44d671);return(await _0x318b51[_0x5c850c(0xe0)](_0x1fd838))[_0x5c850c(0xe8)];},[_0x318b51]),'UpdateUserPointByToken':(0x0,_0x575819[_0x4c2ce8(0x104)])(async(_0x109cc2,_0x12d9dc)=>(await _0x318b51[_0x4c2ce8(0xfe)]('/point/frontdesk/'+_0x109cc2+'/token',_0x12d9dc))[_0x4c2ce8(0xe8)],[_0x318b51]),'GetRewards':(0x0,_0x575819[_0x4c2ce8(0x104)])(async _0x490cf9=>(await _0x318b51[_0x4c2ce8(0xe0)]('/point/frontdesk/'+_0x490cf9+_0x4c2ce8(0xf2)))[_0x4c2ce8(0xe8)],[_0x318b51]),'GetUserRedeemableRewards':(0x0,_0x575819[_0x4c2ce8(0x104)])(async(_0x5ad4e8,_0x421d91)=>{const _0x50e9cc=_0x4c2ce8;let _0x11ec37=_0x535628(_0x50e9cc(0xf7)+_0x5ad4e8+'/rewards',_0x421d91);return(await _0x318b51['get'](_0x11ec37))[_0x50e9cc(0xe8)];},[_0x318b51]),'RedeemReward':(0x0,_0x575819[_0x4c2ce8(0x104)])(async(_0x2305d8,_0x5c0924,_0x5c4bf2)=>(await _0x318b51['post'](_0x4c2ce8(0xf7)+_0x2305d8+_0x4c2ce8(0xd7),{..._0x5c0924,'rewardID':_0x5c4bf2}))[_0x4c2ce8(0xe8)],[_0x318b51])};}},0xa747:(_0x4bc627,_0x99e9e7,_0x5f5da0)=>{_0x5f5da0['r'](_0x99e9e7),_0x5f5da0['d'](_0x99e9e7,{'default':()=>_0x41086f});var _0x1da8a7=_0x5f5da0(0x2d09),_0x1f336c=_0x5f5da0(0x12bab),_0x40a32a=_0x5f5da0(0x14549),_0x1b9269=_0x5f5da0(0x117e0),_0x507a47=_0x5f5da0(0x12106),_0x5c4661=_0x5f5da0(0x1007b),_0x173b89=_0x5f5da0(0xb8d1),_0x4f28bb=_0x5f5da0(0xb551);function _0x41086f(){const _0x42f200=a74_0x2538,{UpdateUserPointByToken:_0x563d28}=(0x0,_0x1da8a7['Y'])(),{setBlockUI:_0x553193,getBlockUI:_0x2f08ba}=(0x0,_0x507a47['r$'])(),[_0x52b67f]=(0x0,_0x40a32a['D'])(),_0x8955af=(0x0,_0x1b9269['W'])(),[_0xf0d97b,_0x1ffcf8]=(0x0,_0x173b89[_0x42f200(0xdd)])(localStorage[_0x42f200(0xea)](_0x1f336c['LocalStorageKey'][_0x42f200(0x105)])),[_0x300145,_0x77e801]=(0x0,_0x173b89[_0x42f200(0xdd)])(!localStorage[_0x42f200(0xea)](_0x1f336c['LocalStorageKey'][_0x42f200(0x105)])),[_0x4288bc,_0x4e9bd6]=(0x0,_0x173b89['useState'])(),[_0x5cb0a2,_0x3dd491]=(0x0,_0x173b89[_0x42f200(0xdd)])(localStorage['getItem'](_0x1f336c[_0x42f200(0xef)][_0x42f200(0x105)])),_0xa41fef=(0x0,_0x173b89[_0x42f200(0x104)])(()=>{const _0x39ea76=_0x42f200;_0x300145?(_0x1ffcf8(_0x5cb0a2),localStorage[_0x39ea76(0xfa)](_0x1f336c[_0x39ea76(0xef)]['VolunteerToken'],_0xf0d97b)):_0x3dd491(_0xf0d97b),_0x77e801(_0x5e85b6=>!_0x5e85b6);},[_0x300145,_0xf0d97b,_0x5cb0a2]),_0x32aa8f=(0x0,_0x173b89[_0x42f200(0x104)])(async _0x14e607=>{const _0xd8e486=_0x42f200;if(_0x2f08ba)return;const [_0x2cd014,_0x4ae504,_0x43549a]=_0x14e607[_0xd8e486(0xf3)](':');_0x2cd014&&_0x4ae504&&_0x43549a?_0x4e9bd6(_0x14e607):_0x52b67f('不是有效的條碼.','negative');},[_0x2f08ba,_0x52b67f]),_0x1a51ae=(0x0,_0x173b89['useCallback'])(async()=>{const _0x54af08=_0x42f200;try{const [_0x2bbcdc,_0x106295,_0xda5cea]=_0x4288bc[_0x54af08(0xf3)](':');_0x553193(_0x54af08(0xed)),(await _0x563d28(Number(_0x106295),{'volunteerToken':_0xf0d97b,'userToken':_0x2bbcdc,'userID':Number(_0xda5cea)}))[_0x54af08(0xe6)]&&(_0x52b67f(_0x54af08(0xe9),'positive'),_0x4e9bd6(null));}finally{_0x553193();}},[_0x563d28,_0x52b67f,_0x4288bc,_0x553193,_0xf0d97b]);return(0x0,_0x173b89[_0x42f200(0xdf)])(()=>{const _0x2c45f4=_0x42f200;null!==_0x8955af&&void 0x0!==_0x8955af&&_0x8955af['q']&&(_0x1ffcf8(_0x8955af['q']),_0x3dd491(_0x8955af['q']),localStorage[_0x2c45f4(0xfa)](_0x1f336c['LocalStorageKey'][_0x2c45f4(0x105)],_0x8955af['q']));},[_0x8955af]),(0x0,_0x4f28bb[_0x42f200(0x101)])(_0x42f200(0xf9),{'className':_0x42f200(0xdc),'children':[(0x0,_0x4f28bb[_0x42f200(0xda)])('br',{}),(0x0,_0x4f28bb[_0x42f200(0xda)])('h3',{'children':_0x42f200(0xd8)}),(0x0,_0x4f28bb[_0x42f200(0x101)])(_0x42f200(0xf9),{'className':_0x42f200(0xe1),'children':[(0x0,_0x4f28bb['jsx'])('div',{'className':_0x42f200(0xe2),'children':_0x4288bc?(0x0,_0x4f28bb[_0x42f200(0x101)])(_0x4f28bb[_0x42f200(0xe7)],{'children':[(0x0,_0x4f28bb[_0x42f200(0xda)])(_0x42f200(0xe4),{'children':'掃描結果'}),(0x0,_0x4f28bb['jsx'])('p',{'children':_0x4288bc}),(0x0,_0x4f28bb[_0x42f200(0xda)])(_0x42f200(0xff),{'className':_0x42f200(0xf8),'onClick':_0x1a51ae,'children':'送出'}),(0x0,_0x4f28bb[_0x42f200(0xda)])(_0x42f200(0xff),{'className':_0x42f200(0xec),'onClick':()=>{_0x4e9bd6(null);},'children':'重試'})]}):(0x0,_0x4f28bb['jsxs'])(_0x4f28bb[_0x42f200(0xe7)],{'children':[(0x0,_0x4f28bb[_0x42f200(0xda)])(_0x42f200(0xe4),{'children':_0x42f200(0x100)}),(0x0,_0x4f28bb[_0x42f200(0xda)])(_0x5c4661['h'],{'onDecode':_0x32aa8f,'onError':_0x1b221c=>console['error'](null===_0x1b221c||void 0x0===_0x1b221c?void 0x0:_0x1b221c[_0x42f200(0xd6)])})]})}),(0x0,_0x4f28bb['jsxs'])(_0x42f200(0xf9),{'className':_0x42f200(0xe2),'children':[(0x0,_0x4f28bb[_0x42f200(0x101)])(_0x42f200(0xf9),{'className':_0x42f200(0xf1),'children':[(0x0,_0x4f28bb['jsx'])('label',{'children':_0x42f200(0x102)}),(0x0,_0x4f28bb[_0x42f200(0xda)])('input',{'value':_0x300145?_0x5cb0a2:_0xf0d97b,'onChange':_0x2893ad=>_0x3dd491(_0x2893ad[_0x42f200(0xfd)]['value']),'disabled':!_0x300145})]}),(0x0,_0x4f28bb[_0x42f200(0xda)])(_0x42f200(0xff),{'className':_0x42f200(0xec),'onClick':_0xa41fef,'disabled':!_0x5cb0a2,'children':_0x300145?'儲存':'修改'}),_0x300145&&_0xf0d97b&&(0x0,_0x4f28bb[_0x42f200(0xda)])('button',{'className':'x-button','onClick':()=>_0x77e801(!0x1),'children':'取消'})]})]})]});}}}]);